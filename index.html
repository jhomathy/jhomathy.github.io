<!DOCTYPE html>
<html lang="en">

<!--
  RESOURCES
https://www.createjs.com/getting-started/easeljs
-->

<!--
TODOs:

animation:
- make an arbitrary object move around the page border

accessibility:
- make sure site responds to screen readers well
- run it through an accessibility checking website (or a few)

pick deadlines + advertising strategy

launch!
--> 

<head>
  <title> TPYO Mag</title>
  <link href="css/cover-page.css" type="text/css" rel="stylesheet"/>
  <script src="https://code.createjs.com/1.0.0/createjs.min.js"></script>
  <script src="https://code.createjs.com/1.0.0/tweenjs.min.js"></script>
<script> 

function init() {
  function getBorderCoords() {
    var x, y;
    if (Math.random() > 0.5) {
      if (Math.random() > 0.5) {
        x = 0; y = Math.random() * (canvas.height - 42);
      }
      else {
        x = canvas.width - 42; y = Math.random() * (canvas.height - 42);
      }
    }
    else {
      if (Math.random() > 0.5) {
        x = Math.random() * (canvas.width - 42); y = 0;
      }
      else {
        x = Math.random() * (canvas.width - 42); y = canvas.height - 42;
      }
    }
    return [x, y];
  }

  var canvas = document.getElementById("testCanvas");
  var stage = new createjs.Stage(canvas);

  var alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";

  // letters into the page
  for (var i = 0; i < 50; i++) {
    var randomLetter = new createjs.Text(alphabet[Math.random() * alphabet.length | 0], "42px Times", "#000000");

    randomLetter.x = 0;
    randomLetter.y = 0;
    randomLetter.speed = Math.random() * 2000 + 500;
    randomLetter.reveal = Math.random() * 6000 + 1000;
    randomLetter.alpha = 0;

    createjs.Tween.get(randomLetter, {loop: 0})
      .wait(randomLetter.reveal)
      .to({alpha: 1}, 500);

    createjs.Tween.get(randomLetter, {loop: -1})
      .to({x: 0, y: canvas.height - 42}, randomLetter.speed)
      .to({x: canvas.width - 42, y: canvas.height - 42}, randomLetter.speed)
      .to({x: canvas.width - 42, y: 0}, randomLetter.speed)
      .to({x: 0, y: 0}, randomLetter.speed);

    stage.addChild(randomLetter);
  }

  // letter out of the page
  for (var i = 0; i < 50; i++) {
    var randomLetter = new createjs.Text(alphabet[Math.random() * alphabet.length | 0], "42px Arial", "#000000");

    randomLetter.x = 0;
    randomLetter.y = 0;
    randomLetter.speed = Math.random() * 2000 + 500;
    randomLetter.reveal = Math.random() * 6000 + 1000;
    randomLetter.alpha = 0;

    createjs.Tween.get(randomLetter, {loop: 0})
      .wait(randomLetter.reveal)
      .to({alpha: 1}, 500);

    createjs.Tween.get(randomLetter, {loop: -1})
      .to({x: canvas.width - 42, y: 0}, randomLetter.speed)
      .to({x: canvas.width - 42, y: canvas.height - 42}, randomLetter.speed)
      .to({x: 0, y: canvas.height - 42}, randomLetter.speed)
      .to({x: 0, y: 0}, randomLetter.speed);

    stage.addChild(randomLetter);
  }

  function makeWordButton(word, xPos, yPos) {
    for (let i = 0; i < word.length; i++) {
      var letter = new createjs.Text(word[i], "42px Times", "#000000");
      letter.finalX = xPos;
      letter.finalY = yPos;

      var coords = getBorderCoords();

      letter.x = coords[0];
      letter.y = coords[1];
      letter.speed = Math.random() * 2000 + 500;
      letter.reveal = Math.random() * 1000 + 3000;
      letter.alpha = 0;

      createjs.Tween.get(letter, {loop: 0})
        .wait(letter.reveal)
        .to({alpha: 1}, 500)
        .to({x: letter.finalX, y: letter.finalY}, letter.speed);

      stage.addChild(letter);
      xPos = letter.finalX + letter.getMeasuredWidth();
    }
  }

  makeWordButton("About", 100, 100);
  makeWordButton("Stories", 100, 150);
  makeWordButton("QFA", 100, 200);


  createjs.Ticker.addEventListener("tick", stage);
}
</script>
</head>


<body onload="init();">

<div>
  <p class="title"> 
    | T | P | Y | O |
  </p>
  <p class="motive">
    A literary magazine for works with typos.
  </p>
</div>

<br><br><br><br> 

<canvas id="testCanvas" width="500" height="500"></canvas>

<div class="faq">
<h1>Questions, Frequently Asked</h1>

<h3>Hi, uh, is this a question?</h3>

<p>Yes, you are asking a question. Thank you for asking it. It is a question.</p>

<h3>What about this, is this a question?</h3>

<p>Once again, this is a question. I can tell, because it has the "?" symbol at the end. This makes it a question, a question that you have asked.</p>
</div>


</body>
</html>
